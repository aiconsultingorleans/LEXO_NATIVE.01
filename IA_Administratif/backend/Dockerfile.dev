# üöÄ LEXO v1 - Dockerfile de d√©veloppement optimis√©
# Utilise l'image de base avec spaCy pr√©-compil√© pour un d√©marrage rapide

FROM lexo-base:latest

# M√©tadonn√©es
LABEL maintainer="LEXO Team"
LABEL description="LEXO Backend Development Container"
LABEL version="1.0"

# Variables d'environnement
ENV PYTHONUNBUFFERED=1
ENV PYTHONDONTWRITEBYTECODE=1
ENV DEBUG=true

# Copier le code de l'application
COPY . /app/

# Cr√©er les r√©pertoires sp√©cifiques au d√©veloppement
RUN mkdir -p /app/logs /app/data /app/ml_models /app/ocr_data

# Exposer le port
EXPOSE 8000

# V√©rification que l'application peut d√©marrer (comment√©e temporairement)
# RUN python -c "from main import app; print('‚úÖ Application pr√™te')"

# Commande de d√©veloppement avec hot reload
CMD ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "8000", "--reload", "--log-level", "info"]